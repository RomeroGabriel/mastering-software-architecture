
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cap_theorem/">
      
      
      <link rel="icon" href="../../images/arch.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.17">
    
    
      
        <title>Capacity Plan - Mastering Software Architecture</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_markdown_exec_ansi.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#capacity-plan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mastering Software Architecture" class="md-header__button md-logo" aria-label="Mastering Software Architecture" data-md-component="logo">
      
  <img src="../../images/arch.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mastering Software Architecture
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Capacity Plan
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../basic/whats_software_arc/" class="md-tabs__link">
        Basic
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../modularity/" class="md-tabs__link">
        Modularity
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../components/" class="md-tabs__link">
      Components
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../arch_characteristics/arch_characteristics/" class="md-tabs__link">
        Architecture Characteristics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../arch_styles/" class="md-tabs__link">
        Architecture Styles
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../arch_decisions/" class="md-tabs__link">
      Architecture Decisions
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../arch_risk/" class="md-tabs__link">
      Analyzing Architecture Risk
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        System Design
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mastering Software Architecture" class="md-nav__button md-logo" aria-label="Mastering Software Architecture" data-md-component="logo">
      
  <img src="../../images/arch.png" alt="logo">

    </a>
    Mastering Software Architecture
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Basic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Basic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/whats_software_arc/" class="md-nav__link">
        What's Software Architecture?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/expectations_of_architect/" class="md-nav__link">
        Expectations of an Architect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/architectural_thinking/" class="md-nav__link">
        Architectural Thinking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Modularity
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modularity
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modularity/" class="md-nav__link">
        Definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../modularity/measuring/" class="md-nav__link">
        Measuring Modularity
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../components/" class="md-nav__link">
        Components
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Architecture Characteristics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Architecture Characteristics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_characteristics/arch_characteristics/" class="md-nav__link">
        Definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_characteristics/identifying_characteristics/" class="md-nav__link">
        Identifying
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_characteristics/measuring_governing/" class="md-nav__link">
        Measuring and Governing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_characteristics/scope/" class="md-nav__link">
        Scope
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Architecture Styles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Architecture Styles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/foundations/" class="md-nav__link">
        Foundations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/mono_distributed/" class="md-nav__link">
        Monolithic vs Distributed Architectures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/choosing_arch_style/" class="md-nav__link">
        Choosing the Appropriate Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
      
      
      
        <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
          Architecture Styles Descriptions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Architecture Styles Descriptions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/layered_arch/" class="md-nav__link">
        Layered Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/pipeline_arch/" class="md-nav__link">
        Pipeline Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/microkernel_arch/" class="md-nav__link">
        Microkernel Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/service_based_arch/" class="md-nav__link">
        Service-Base Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/event_driven_arch/" class="md-nav__link">
        Event-Driven Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/space_based_arch/" class="md-nav__link">
        Space-Based Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/orchestration_arch/" class="md-nav__link">
        Orchestration-Driven Service-Oriented Architecture Style
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../arch_styles/microservices/" class="md-nav__link">
        Microservices Architecture Style
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../arch_decisions/" class="md-nav__link">
        Architecture Decisions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../arch_risk/" class="md-nav__link">
        Analyzing Architecture Risk
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          System Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          System Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cap_theorem/" class="md-nav__link">
        CAP Theorem
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Capacity Plan
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Capacity Plan
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-steps" class="md-nav__link">
    Key Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systems-metadata-to-consider" class="md-nav__link">
    System's Metadata to Consider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculate-request-per-secondrps" class="md-nav__link">
    Calculate Request per Second(RPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculate-peak-query-per-second-qps" class="md-nav__link">
    Calculate Peak Query Per Second (QPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    Bandwidth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-steps" class="md-nav__link">
    Key Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systems-metadata-to-consider" class="md-nav__link">
    System's Metadata to Consider
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculate-request-per-secondrps" class="md-nav__link">
    Calculate Request per Second(RPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calculate-peak-query-per-second-qps" class="md-nav__link">
    Calculate Peak Query Per Second (QPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    Bandwidth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="capacity-plan">Capacity Plan</h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ol>
<li>KB → MB = KB/10^3</li>
<li>MB → GB = MB/10^3</li>
<li>GB → TB = GB/10^3</li>
<li>MB → TB = MB/10^6</li>
</ol>
</div>
<p>Capacity planning is a critical aspect of system design. <code>It involves estimating the maximum load that a system can handle, including the number of users, transactions, or data that the system can process without performance degradation</code>. Effective capacity planning can help <code>avoid bottlenecks</code>, <code>ensure system scalability</code>, and prevent <code>costly resource over-allocation</code>. Capacity planning is an <code>iterative process</code>. As the system grows and evolves, the <code>capacity requirements may change</code>, and the capacity planning should be updated accordingly.</p>
<h2 id="key-steps">Key Steps</h2>
<p>Here are some key steps involved in capacity planning:</p>
<div class="admonition note">
<p class="admonition-title">Estimate Options</p>
<p><code>Start by estimating the scope of the system</code>. Your initial measure for quantifying capacity is usually an <code>assumed throughput</code>, <code>inferred from a similar feature or another number such as daily active users</code>. Then, come up with a ballpark <code>estimate of how much a request costs in bytes</code>. For <code>object storage</code>, consider factors like versioning and the average size of different media files. Once you know how much each record costs, think of <code>bandwidth per operation</code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Peak QPS</p>
<p><code>Calculating peak Query Per Second (QPS)</code> is important as it often dictates the capacity requirement of the design. <code>Peak QPS refers to the highest rate at which a system will be expected to handle queries</code>, often occurring during times of high usage or traffic spikes. This can be <code>determined through historical data analysis</code>, predicting event-driven peaks, or time-driven peaks.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Understanding Request Sizes</p>
<p>Assessing request sizes is <code>crucial for determining bandwidth and storage requirements</code>. Depending on the system's functionality and the nature of data it handles, you can make informed assumptions about the size of different types of requests.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Throughput Calculation</p>
<p>Throughput is an important metric for capacity planning. <code>It represents the number of requests that can be handled by the system in a given time frame</code>. Throughput can be <code>calculated based on the system's requirements or inferred from relevant metrics like daily active users</code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Estimating Server Requirement</p>
<p>With the estimated throughput and response time, you can <code>estimate the number of servers needed to run the application</code>. This calculation takes into account the average response time per request and the number of workers each server can handle.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bandwidth &amp; Data in Transit</p>
<p>Understanding <code>each record’s cost</code> is fundamental. You need to <code>consider the bandwidth per operation in both directions</code> - client to server (ingress) and server to client (egress).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Be Prepared to Operate</p>
<p>Much of the truly challenging work for capacity planning is in <code>operating capacity</code>. Sometimes, <code>assumptions made during the design stage may not hold true in practice</code>. Therefore, c<code>ontinuous planning and monitoring is extremely important</code>. Writing some of the assumptions made at the design stage in the form of alerts can help detect misconceptions. Using concepts of threat modeling can help understand which safeguards are missing, what happens if a certain characteristic changes, or if a non-functional requirement changes.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Rounding and Approximation</p>
<p>It is difficult to perform complicated math operations during the interview. <code>There is no need to spend valuable time to solve complicated math problems. Precision is not expected</code>. Use round numbers and approximation to your advantage.</p>
</div>
<h2 id="systems-metadata-to-consider">System's Metadata to Consider</h2>
<p>When implementing a system design, <code>metadata can provide valuable insights into the system's behavior and performance</code>, which can inform decisions about system architecture, scaling, and optimization. These pieces of metadata can provide valuable insights for system design and <code>can help inform decisions about things like load balancing, data partitioning, and resource allocation</code>. It's important to regularly monitor and analyze this metadata to understand the system's behavior and performance, and to make informed decisions about system design and optimization.</p>
<p>Here are some common types of metadata used in system design:</p>
<div class="admonition info">
<p class="admonition-title">Daily Active Users (DAU)</p>
<p><code>This refers to the number of unique users who engage with the system on a given day</code>. It's a key metric for understanding user activity and growth. High DAU indicates a large user base and active engagement, while low DAU suggests fewer users or less engagement.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Average Requests by User</p>
<p><code>This refers to the number of requests made by each user</code>. It can provide insights into user behavior and usage patterns.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Average Request Data Size</p>
<p><code>This refers to the size of the data included in each request</code>. It's important for <code>understanding the volume of data being processed and can impact system performance and scalability</code>. Larger request sizes can increase the load on the system and slow down response times.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Read vs Write</p>
<p><code>This refers to the ratio of read operations to write operations in the system</code>. The ratio can <code>provide insights into the system's usage patterns</code> and can impact system performance and scalability. For example, a higher <code>read-to-write</code> ratio might suggest a system that primarily retrieves data rather than updates it.</p>
</div>
<h2 id="calculate-request-per-secondrps">Calculate Request per Second(RPS)</h2>
<p>Calculating the number of requests per second (RPS) is a critical part of system design and performance estimation. <code>It helps determine how many requests your system can handle in a single second</code>.</p>
<p>Considering:</p>
<ol>
<li>1Mi DAU (Daily Active Users)</li>
<li>5 request per user on daily average</li>
<li>100.000 seconds per day or 10^5</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Seconds per Day Calculation</p>
<p>Normaly, one day has 86.500 seconds. However, as mentioned in Round and Approximation note in <a href="#key-steps">Key Steps</a> is normal to round to facilitate the calculation. So there is no problem to say that one day has 100.000 seconds or 10^5.</p>
</div>
<p>Calculating:</p>
<ol>
<li>1.000.000 * 5 = 5.000.000 <code>requests per day</code></li>
<li>5.000.000 / 100.000 = 50 <code>requests per second (RPS)</code></li>
</ol>
<p>OR</p>
<ol>
<li>5 * 10^6 / 10^5 = 5 * 10^6-5</li>
<li>5 * 10^1 = 50 RPS</li>
</ol>
<div class="admonition example">
<p class="admonition-title">Write and Read</p>
<p>Considering:</p>
<ol>
<li>Read VS Write = 9:1</li>
</ol>
<p>Calculate:</p>
<ol>
<li>Writes = 50rps * 0.1 = 5rps</li>
<li>Read = 50 * 0.9 = 45rps</li>
</ol>
</div>
<div class="admonition example">
<p class="admonition-title">Purchases per Seconds</p>
<p>Considering:</p>
<ol>
<li>5% of users buy something</li>
</ol>
<p>Calculate:</p>
<ol>
<li><code>5% of 1Mi = 50.000 per day</code> or <code>5% of 10^6 = 5*10^4</code></li>
<li>5*10^4 / 10^5 (secods per day) = 5*10(4-5) = 5\10^-1</li>
<li><code>0.5 purchases per seconds</code></li>
</ol>
</div>
<h2 id="calculate-peak-query-per-second-qps">Calculate Peak Query Per Second (QPS)</h2>
<h2 id="bandwidth">Bandwidth</h2>
<p><code>Bandwidth refers to the maximum rate of data transfer across a given path</code>. It's typically measured in bits per second (bps), kilobits per second (Kbps), megabits per second (Mbps), gigabits per second (Gbps), or terabits per second (Tbps). Bandwidth is a crucial factor in system design as it <code>directly influences the system's performance and scalability</code>.</p>
<div class="admonition note">
<p class="admonition-title">Steps to Calculate</p>
<ol>
<li><code>Identify the Data Transfer Rate</code>: This is the <code>speed at which data is transferred over the network</code>. It's usually provided by the network service provider and is typically measured in bits per second (bps). For example, a 1 Gbps network has a data transfer rate of 1,000,000,000 bits per second.</li>
<li><code>Calculate the Number of Users</code>: This is the number of <code>users that will be using the network simultaneously</code>. For example, if you have a network with a data transfer rate of 1 Gbps and you have 100 users, <code>each user will have a bandwidth of 10 Mbps</code> (1 Gbps / 100 users)</li>
<li><code>Calculate the Bandwidth Usage Per User</code>: This is the <code>amount of data that each user will be transferring over the network</code>. For example, if each user is transferring 10 MB of data per second, the bandwidth usage per user will be 10 Mbps.</li>
<li><code>Calculate the Total Bandwidth Usage</code>: This is the <code>total amount of data that will be transferred over the network</code>. It's <code>calculated by multiplying the bandwidth usage per user by the number of users</code>. For example, if each user is using 10 Mbps and there are 100 users, the total bandwidth usage will be 1 Gbps.</li>
</ol>
</div>
<div class="admonition example">
<p class="admonition-title">First Example</p>
<p>Suppose you have a network with a <code>data transfer rate of 1 Gbps</code> (1,000,000,000 bits per second). You have <code>100 users</code>, each of whom will be <code>transferring 10 MB of data per second</code>. The <code>total bandwidth usage would be 1 Gbps</code> (10 Mbps * 100 users).</p>
</div>
<div class="admonition example">
<p class="admonition-title">Second Example</p>
<p>Considering:</p>
<ol>
<li>50 request per second (rps)</li>
<li>Each request size is 50Kb</li>
</ol>
<p>Calculate:</p>
<ol>
<li>50rps * 50kb = 2500Kb/s
or</li>
<li>2500Kb/s / 1000 = 2.5Mb/s
or</li>
<li>2.5<em>10^3 / 10^3 = 2.5</em>10^(3-3) = 2.5Mb/s</li>
</ol>
</div>
<h2 id="storage">Storage</h2>
<p>Storage in system design refers to the <code>amount of data that the system will need to store over time</code>. It's crucial for understanding the system's <code>scalability</code> and <code>performance</code>, and it often plays a <code>key role in the system's cost and infrastructure requirements</code>.</p>
<div class="admonition note">
<p class="admonition-title">Steps to Calculate</p>
<ol>
<li><code>Identify the Amount of Data Each User Will Generate</code>: This is the amount of data each user will generate and store in the system. For example, each user generates <code>1 MB</code> of data per day.</li>
<li><code>Estimate the Number of Users</code>: This is the number of users that will be using the system. For example, if you have a social media platform with <code>100 million daily active users (DAUs)</code>.</li>
<li><code>Calculate the Total Data Generation Per Day</code>: This is the total amount of data that will be generated and stored in the system each day. <code>It's calculated by multiplying the amount of data each user will generate by the number of users</code>. For example, if each user generates 1 MB of data per day and there are 100 million users, then the total data generation per day will be 100,000 MB, or 100 GB.</li>
<li><code>Estimate the Retention Period</code>: This is the length of time that the system will retain user data. For example, the system retains user data for 3 years.</li>
<li><code>Calculate the Total Storage Requirement</code>: This is the total amount of storage that the system will need to store user data over the entire retention period. <code>It's calculated by multiplying the total data generation per day by the number of days in the retention period</code>. For example, if the system generates 100 GB of data per day and retains data for 3 years (approximately 1095 days), then the total storage requirement will be 109,500 GB, or 109.5 TB.</li>
<li><code>Replication factor</code>: The Replication Factor (RF) is equivalent to the <code>number of nodes where data (rows and partitions) are replicated</code>.</li>
</ol>
</div>
<div class="admonition example">
<p class="admonition-title">First Example</p>
<p>Considering:</p>
<ol>
<li>A social media platform with 10 million daily activate users (DAUs).</li>
<li>Each user generates 1 MB of data per second.</li>
<li>Replication factor is 3</li>
<li>Retention period of 3 years.</li>
</ol>
<p>Calculate:</p>
<p>10 million → 10.000.000 = 10 ^ 7</p>
<p>1 day → 10 ^ 5 seconds</p>
<p>1 year → 10 ^ 5 * 3.65 ^ 2 = 3.65*10^7 seconds</p>
<p>1 MB → TB = MB/10^6</p>
<p>1GB → TB = GB/10^3</p>
<ol>
<li>Storage per second(SPS) = data per second * RF = 1 MB/s * 3 = <code>3 MB/s</code></li>
<li>Storage per day(SPD) = SPS * Seconds per day = 3 MB/s * 10 ^ 5 = <code>300.000</code> MB or <code>300GB</code></li>
<li>Storage per year(SPY) <ul>
<li>SPS * Seconds per year = 3 MB/s * 3.65*10^7 = <code>10.95^7MB</code> or 10.95 ^ 7 / 10 ^ 6 = 10.95 * 10 = <code>109.5TB</code></li>
<li>SPD * Days per year = 300 GB * 365 = <code>109500GB</code> OR 10.95 * 10 ^ 4 / 10 ^ 3 = 10.95 * 10 = <code>109.5TB</code></li>
</ul>
</li>
<li>Storage per Retention Period = SPY * Retention Period = 109.5TB * 3 = 328.5TB</li>
</ol>
</div>
<!-- TO DO: Add second example -->

<h2 id="references">References</h2>
<ol>
<li><a href="https://medium.com/@cribeirorodrigues/system-design-capacity-estimation-a34309f88914">System Design — Capacity Estimation</a></li>
<li><a href="https://dballona.com/system-design-capacity-planning-basics">System Design: Capacity Planning basics</a></li>
<li><a href="https://blog.bytebytego.com/p/capacity-planning">Capacity Planning</a></li>
<li><a href="https://bytebytego.com/courses/system-design-interview/back-of-the-envelope-estimation">Back-of-the-envelope Estimation</a></li>
<li><a href="https://www.techtarget.com/searchnetworking/tip/How-to-calculate-network-bandwidth-requirements">How to calculate network bandwidth requirements</a></li>
<li><a href="https://www.designgurus.io/blog/Back-of-the-Envelope-System-Design-Interview">Back-of-the-Envelope Calculation in System Design Interviews: A Comprehensive Guide</a></li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tabs.instant", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b425cdc4.min.js"></script>
      
    
  </body>
</html>